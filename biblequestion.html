<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>圣经问题查询 - 电子圣经团契</title> <style>
        :root {
            /* 定义一些CSS变量，方便统一管理颜色等 */
            --primary-color: #4A90E2; /* 更柔和的蓝色 */
            --secondary-color: #50E3C2; /* 次要强调色 */
            --background-color: #F5F7FA; /* 浅灰色背景 */
            --surface-color: #FFFFFF; /* 白色表面 */
            --border-color: #E0E6ED; /* 柔和边框色 */
            --text-color: #2C3E50; /* 深灰字体色 */
            --text-light-color: #7F8C8D; /* 浅灰字体色 */
            --shadow-light: 0 3px 8px rgba(0, 0, 0, 0.05);
            --shadow-medium: 0 6px 15px rgba(0, 0, 0, 0.1);
            --animation-duration: 0.4s; /* 动画时长微调 */
            --animation-easing: cubic-bezier(0.4, 0, 0.2, 1); /* 更流畅的动画曲线 (Material Design) */
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Sans SC", sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            padding-top: 30px; /* 页面顶部留白增加 */
            overflow-y: scroll;
        }

        .container {
            max-width: 1000px;
            margin: 20px auto;
            padding: 40px; /* 内边距增加 */
            background-color: var(--surface-color);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1); /* 更明显的容器阴影 */
            border-radius: 12px;
            overflow: hidden;
        }

        /* 头部区域，包含Logo和标题 */
        .header {
            text-align: center;
            margin-bottom: 30px; /* 头部下方间距 */
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .site-logo {
            margin-bottom: 15px; /* Logo下方间距 */
        }

        .site-logo img {
            max-height: 55px;
            display: block;
        }

        /* 页面上的主标题 */
        .page-section-title {
            font-size: 2.2em; /* 主标题字体大小 */
            font-weight: 700;
            color: var(--text-color);
            margin-top: 0;
            margin-bottom: 30px; /* 标题下方间距 */
            text-align: center;
        }


        /* 搜索区域容器，用于定位下拉框 */
        .search-area {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            z-index: 10; /* 确保搜索框和下拉框在卡片上方 */
        }

        .search-bar input[type="text"] {
            width: 100%;
            padding: 13px 25px;
            font-size: 18px;
            border: 1px solid var(--border-color);
            border-radius: 30px;
            box-sizing: border-box;
            outline: none;
            transition: border-color var(--animation-duration) var(--animation-easing), box-shadow var(--animation-duration) var(--animation-easing);
        }
        .search-bar input[type="text"]::placeholder {
            color: var(--text-light-color);
            opacity: 0.7;
        }
        .search-bar input[type="text"]:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 12px rgba(74, 144, 226, 0.3);
        }

        /* 搜索结果下拉框样式 */
        .search-results {
            position: absolute;
            top: calc(100% + 8px);
            left: 0;
            width: 100%;
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: var(--shadow-medium);
            max-height: 300px;
            overflow-y: auto;
            list-style: none;
            padding: 0;
            margin: 0;
            /* 动画效果 */
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: opacity var(--animation-duration) var(--animation-easing),
                        visibility var(--animation-duration) var(--animation-easing),
                        transform var(--animation-duration) var(--animation-easing);
        }

        .search-results.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .search-result-item {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
            transition: background-color 0.2s ease-in-out;
            font-size: 1em;
            color: var(--text-color);
            text-align: left;
        }
        .search-result-item:last-child {
            border-bottom: none;
        }
        .search-result-item:hover {
            background-color: #F8F8F8;
        }
        .search-result-item .result-title strong {
            color: var(--primary-color);
            font-weight: inherit;
        }
         .search-result-item .result-id {
             font-size: 0.9em;
             color: var(--text-light-color);
             margin-right: 10px;
             display: inline-block;
             min-width: 40px;
             font-weight: 500;
         }
         .search-result-item .result-title {
             display: inline;
         }


        /* 问题卡片网格 - 搜索时隐藏 */
        .questions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            z-index: 1;
            opacity: 1;
            transition: opacity var(--animation-duration) var(--animation-easing);
        }
         .questions-grid.hidden-by-search {
             opacity: 0;
             pointer-events: none;
         }


        /* 单个问题卡片样式美化 */
        .question-card {
            border: none;
            border-radius: 10px;
            padding: 20px;
            background-color: var(--surface-color);
            box-shadow: var(--shadow-light);
            cursor: pointer;
            transition: transform var(--animation-duration) var(--animation-easing),
                        box-shadow var(--animation-duration) var(--animation-easing);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .question-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-medium);
        }
        .question-card .id {
            font-size: 0.9em;
            color: var(--text-light-color);
            margin-bottom: 10px;
            font-weight: 500;
        }
        .question-card h3 {
            margin: 0 0 15px 0;
            font-size: 1.2em;
            color: var(--text-color);
            font-weight: 700;
        }
        .question-card p {
            font-size: 1em;
            color: var(--text-light-color);
            margin-bottom: 15px;
            flex-grow: 1;
        }
        .question-card .category {
             font-size: 0.85em;
             color: var(--primary-color);
             background-color: #E8F0FE; /* 浅蓝色背景，与主要颜色搭配 */
             padding: 4px 10px;
             border-radius: 15px;
             display: inline-block;
             margin-top: 10px;
             font-weight: 500;
         }

        /* 分页控件样式 */
        .pagination {
            margin-top: 30px;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }

        .pagination button {
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            padding: 8px 15px;
            margin: 0 4px 8px 4px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            color: var(--text-color);
            transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.1s ease; /* 添加transform过渡 */
            outline: none;
        }

        .pagination button:hover {
            background-color: #F0F0F0;
            transform: translateY(-2px); /* 悬停微上移 */
        }

         .pagination button:active {
             transform: translateY(0); /* 点击按下时回到原位 */
         }


        .pagination button.active {
            background-color: var(--primary-color);
            color: var(--surface-color);
            border-color: var(--primary-color);
            font-weight: 700;
            cursor: default;
            transform: none; /* 激活状态无hover动画 */
        }
         .pagination button.active:hover {
             background-color: var(--primary-color); /* 激活状态悬停不变色 */
         }

         .pagination button:disabled {
             cursor: not-allowed;
             opacity: 0.5;
             transform: none; /* 禁用状态无动画 */
         }
         .pagination button:disabled:hover {
              background-color: var(--surface-color); /* 禁用状态悬停不变色 */
         }

         /* 分页省略号样式 */
         .pagination span {
             margin: 0 5px;
             color: var(--text-light-color);
         }


        /* 模态窗口样式 */
        .modal {
            /* display: none; /* 初始隐藏，这里保留，但配合 visibility */
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            /* 弹出界面半透明 - 调整背景颜色alpha值 */
            background-color: rgba(0,0,0,0.5); /* 半透明背景 */

            justify-content: center;
            align-items: center;

            /* 动画效果 */
            opacity: 0;
            visibility: hidden; /* 默认隐藏，且不可见 */
            /* 过渡属性：opacity, visibility */
            /* visibility 在隐藏时（从 visible 变为 hidden）会延迟过渡，使其在 opacity 变为 0 后再发生 */
            transition: opacity var(--animation-duration) var(--animation-easing),
                        visibility 0s linear var(--animation-duration); /* visibility 延迟 */

             /* 默认 display 为 none，通过JS在添加show类前设置为flex */
             display: none;
        }
         .modal.show { /* 用于JS控制显示时的状态 */
             display: flex; /* 使 Flexbox 生效 */
             opacity: 1;
             visibility: visible; /* 可见 */
             /* 过渡属性： visibility 在显示时立即过渡 */
             transition: opacity var(--animation-duration) var(--animation-easing),
                         visibility 0s linear 0s; /* visibility 立即过渡 */
         }

        .modal-content {
            background-color: var(--surface-color);
            margin: auto;
            /* 弹出窗口不挤了 - 增加内边距 */
            padding: 40px; /* 增加内边距 */
            border-radius: 10px;
            max-width: 750px;
            width: 90%;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            position: relative;
            /* 动画效果 */
            transform: scale(0.8); /* 初始缩放程度更大一些 */
            transition: transform var(--animation-duration) var(--animation-easing);
        }
        .modal.show .modal-content { /* 模态窗口显示时内容缩放回原样 */
             transform: scale(1);
        }

        .close-button {
            color: var(--text-light-color);
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 30px;
            font-weight: normal;
            cursor: pointer;
            transition: color 0.3s ease-in-out;
        }
        .close-button:hover,
        .close-button:focus {
            color: var(--text-color);
            text-decoration: none;
        }

        /* 模态窗口内部h2的下边框 */
        .modal-content h2 {
             border-bottom: 1px solid var(--border-color); /* 确保分隔线还在 */
             padding-bottom: 15px; /* 增加标题下边距 */
             margin-bottom: 20px; /* 增加标题到底部内容间距 */
         }
        /* 模态窗口内部 h4 和 answer-text 间距 */
         .modal-content h4 {
             margin-top: 20px; /* 确保回答标题有足够顶部间距 */
             margin-bottom: 10px; /* 确保回答标题有足够底部间距 */
         }
         .modal-content .answer-text {
             margin-top: 0; /* 确保回答内容顶部与标题对齐 */
         }


        /* 主界面固定返回按钮样式 (默认隐藏) */
        .main-back-button {
            position: fixed; /* 固定位置 */
            top: 30px; /* 距离顶部 */
            left: 30px; /* 距离左边 */
            background-color: var(--surface-color); /* 白色背景 */
            color: var(--text-color); /* 字体颜色 */
            border: 1px solid var(--border-color);
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            box-shadow: var(--shadow-light); /* 柔和阴影 */
            z-index: 999; /* 在内容上方，模态窗口下方 */
            opacity: 0; /* 默认隐藏 */
            visibility: hidden; /* 默认隐藏 */
            pointer-events: none; /* 默认不响应鼠标事件 */
            transition: opacity var(--animation-duration) var(--animation-easing),
                        visibility var(--animation-duration) var(--animation-easing);
        }

        .main-back-button.visible {
            opacity: 1;
            visibility: visible;
            pointer-events: auto; /* 显示时响应鼠标事件 */
        }

        .main-back-button:hover {
            background-color: #F8F8F8; /* 悬停变浅 */
            box-shadow: var(--shadow-medium); /* 悬停阴影变深 */
        }


        /* 正处于测试阶段提示样式 */
        .testing-phase-notice {
            position: fixed; /* 固定位置 */
            bottom: 0; /* 底部对齐 */
            left: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.6); /* 深色半透明背景 */
            color: rgba(255, 255, 255, 0.9); /* 浅色半透明文字 */
            text-align: center;
            padding: 8px 0; /* 上下内边距 */
            font-size: 0.9em;
            z-index: 1001; /* 确保在模态窗口背景上方 */
            pointer-events: none; /* 不阻碍下方元素的点击事件 */
        }


        /* 响应式调整 */
        @media (max-width: 768px) {
            .container {
                margin: 20px;
                padding: 20px;
            }
             .header {
                 padding-bottom: 15px;
             }
             .site-logo img {
                 max-height: 50px;
             }
             .page-section-title {
                 font-size: 1.8em;
                 margin-bottom: 20px;
             }
            .search-area {
                 max-width: 100%;
             }
            .search-bar input[type="text"] {
                 width: 100%;
                 max-width: none;
                 padding: 10px 15px;
                 font-size: 16px;
             }
             .search-results {
                 width: calc(100% - 0px);
                 left: 0;
                 transform: none;
                 border-radius: 0 0 8px 8px;
                 border-left: none;
                 border-right: none;
                 padding: 0;
                 top: calc(100% + 5px);
             }
              .search-result-item {
                  padding: 10px 15px;
              }
            .questions-grid {
                grid-template-columns: 1fr;
            }
             .question-card {
                 padding: 15px;
             }
             .question-card h3 {
                 font-size: 1.1em;
             }
             .modal-content {
                 width: 95%;
                 padding: 20px; /* 小屏幕模态窗口内边距调整 */
             }
             .close-button {
                 top: 10px;
                 right: 15px;
                 font-size: 24px;
             }
             .pagination button {
                 padding: 6px 10px;
                 font-size: 0.9em;
                 margin: 0 2px 6px 2px;
             }
              .pagination span {
                  margin: 0 3px;
              }
              .main-back-button {
                  top: 15px;
                  left: 15px;
                  padding: 8px 16px;
                  font-size: 0.9em;
              }
              .testing-phase-notice {
                  font-size: 0.8em;
                  padding: 6px 0;
              }
        }

    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <div class="site-logo">
                <img src="logo/ebfside.png" alt="电子圣经团契 Logo">
            </div>
        </div>

         <h2 class="page-section-title">圣经问题查询</h2> <div class="search-area">
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="搜索圣经问题编号、标题、关键词...">
            </div>
            <ul id="searchResults" class="search-results">
                </ul>
        </div>


        <div id="questionsGrid" class="questions-grid">
            </div>

        <div id="pagination" class="pagination">
            </div>

    </div>

    <div id="answerModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 id="modalQuestionTitle">问题标题将会显示在这里</h2>
            <h4>克里斯的回答：</h4>
            <div id="modalAnswerContent" class="answer-text">
                </div>
             </div>
    </div>

    <button id="mainBackButton" class="main-back-button">返回</button>

    <div class="testing-phase-notice">正处于测试阶段</div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.6.2/fuse.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchInput');
            const searchResultsUl = document.getElementById('searchResults');
            const questionsGridDiv = document.getElementById('questionsGrid');
            const paginationDiv = document.getElementById('pagination'); // 获取分页容器
            const modal = document.getElementById('answerModal');
            const closeButton = document.querySelector('.close-button');
            const mainBackButton = document.getElementById('mainBackButton'); // 获取主界面返回按钮
            const modalQuestionTitle = document.getElementById('modalQuestionTitle');
            const modalAnswerContent = document.getElementById('modalAnswerContent');

            // 圣经问题数据 (当前只有一个问题条目)
            const allQuestions = [
    {
        id: 1,
        displayId: '#001',
        title: '圣经中无名的人往往是耶稣本人',
        summary: '解释圣经中一些未具名提到“一个人”的经文，认为其指向耶稣基督...',
        category: '#耶稣 #圣经解读',
        answerContent: "<p>耶利米书5:1 你们在耶路撒冷的街上跑来跑去,现在看,知道,在那里的宽阔之处寻求,若能找到一个人,若有执行审判的,寻求真理的,我就赦免。</p><p>唯一能使上帝赦免耶路撒冷城罪过的人是耶稣基督。 基督在“耶路撒冷”的 bowlby:82的基督徒在耶路撒冷大街上跑来跑去，寻找真理的人，就是耶稣基督。基督在耶路撒冷的同在，指向他的灵与以色列的同在，以及新约的教会（见启示录2:1……他在七个灯台中行走）。当然，神在犹大找不到“一个人”，因为在神的殿开始审判的时候，神的灵离开了世界上所有的教会（彼得前书4:17）。</p><p>另一个提到无名的人（基督）的内容见于诗篇87:</p><p>诗篇87:5 论到锡安，必说：这人和那人生在她里面，至高的必亲自坚立她。<br>6 耶和华写下百姓的时候，要数算这人出生在那里。细拉。</p><p>上帝写下人民，是指羔羊生命册中所有上帝选民的具象性写作（启示录13:8）。耶稣的诞生和进入世界，当然与所有写在羔羊生命册上的人的赎罪有关。</p><p>我们再次读到这段经文中被称为一个男人:</p><p>以赛亚书 4:1 到那日，要有七个女人抓住一个男人，说：我们要吃自己的饼，穿自己的衣服，只叫我们称你的名，为要除去自己的羞辱。</p><p>启示录第2章和第3章中七个教会的照片。他们抓住了“一个人”（耶稣），但宣称他们要吃自己的饼（他们想要自己的教义和福音）和自己的衣服（圣经中的服装指向一个人的灵性掩盖——比如基督的义归咎于那些得救的人；但在这种情况下，这是他们“自己的”覆盖。他们的正义表明这是一个工作福音（自由意志福音就是这样），因此他们坚持自己的救赎计划，尽管想要自己的面包/服装（自己的教义和福音），但他们仍然渴望被这个人的名字称呼，他们渴望被称为基督徒，以基督之名。</p><p>雅各书 2:18 是的，有人可以说，你有信心，我也有行为：你不用你的行为，将你的信心指示我，我就用我的行为指示你我的信心。</p><p>只有耶稣有资格成为说他有工作的“人”。因为上帝不接受任何人（有罪的人）所做的工作，就称义而言（加拉太书2:16）。只有神人耶稣基督所做的信心工作是可以接受的。</p>"
    },
    {
        id: 2,
        displayId: '#002',
        title: '困惑的国家的困境',
        summary: '地上列国必有困惑，海浪咆哮（路加福音21:25）。探索末世列国的内心痛苦与混乱。',
        category: '#末世 #信仰',
        answerContent: "<p>在《路加福音》21章25节，我们读到：“地上列国必有困惑，海浪咆哮。”</p><p>根据《斯特朗经文汇编》，此处“困惑”一词（希腊文#4928）仅出现两次，一次在此，另一次在《哥林多后书》2章4节，意为“心中的痛苦”。这表明“困惑”指向内心或思想的困扰。上帝在此揭示，审判日的“五个月”折磨（启示录9:5）象征人类内心的痛苦，遍及列国，涵盖所有未得救之人。</p><p>“困惑”在希腊文中带有“疑惑”或“不确定”含义，如《约翰福音》13章22节所述。列国因失去信心，面对未知而困惑。“海浪咆哮”以“翻腾的海”比喻恶人（以赛亚书57:20），喧嚣不安。</p><p>《路加福音》21章26节继续说：“人因恐惧和预期地上将要临到的事，心都昏迷了……”希腊原文表明，人心因恐惧而冷漠，不仰望圣经或基督的再来，内心充满痛苦却拒绝顺服上帝的话语。</p><p>《加拉太书》2章16节宣告：“凡有血气的，没有一人因律法的行为称义。”圣经中的“行为”指人对上帝命令的回应，如亚伯拉罕献以撒（创世记22:2）或传福音（马太福音28:19）。信靠基督也是命令（约翰一书3:23），但无人能因“信仰的行为”称义。唯有基督的赎罪工作使选民因信称义。</p><p>“困惑的国家的困境”揭示末世列国的痛苦与混乱，源于疑惑与不信。救恩唯靠基督的功劳，非人的行为。</p>"
    },
    {
    "id": 3,
    "displayId": "#003",
    "title": "但以理在狮子坑的经历预表信徒在审判日后的忍耐与复活",
    "summary": "讲解但以理书第6章中但以理被扔进狮子坑的事件，如何预表2011年5月21日审判日之后信徒在属灵审判中的忍耐，直到复活得救。",
    "category": "#但以理书 #审判日 #复活 #圣经解读",
    "answerContent": "<p>在但以理书第6章中，巴比伦被玛代与波斯所灭，赛鲁士王掌权，这是基督在2011年5月21日审判日后掌权统治的预表。</p><p>赛鲁士王颁布不可更改的禁令，致使但以理因祷告被扔入狮子坑，这预表信徒在世界中因持守信仰而受逼迫，且神的旨意不可更改（参考《马太福音》24:35）。</p><p>狮子坑用石头封口，象征救恩之门关闭，正如2011年5月21日之后属灵救恩之门已关（参《启示录》3:7）。</p><p>夜间的守候代表审判期的黑暗与苦难，信徒无法自救，只能忍耐等候神的拯救。</p><p>赛鲁士王清晨赶到狮子坑，命人挪开石头，发现但以理安然无恙，这预表在世界的末了（可能在2033年），信徒将被基督复活升天（参《约翰福音》6:40）。</p><p>最终但以理被“取上来”，象征信徒得荣耀复活进入永生。</p><p>这一整段经历，正如信徒在属灵审判中的忍耐与盼望：在漫长的黑夜中忍耐，直到黎明来临，石头被挪开，神的子民得着救赎。</p>"
},
{
    "id": 4,
    "displayId": "#004",
    "title": "真正信徒的证据是顺从圣经",
    "summary": "回应关于需要凭证据证明信仰的质疑，指出顺从圣经诫命是信徒真实的证据，而违反圣经则显明是假信徒。",
    "category": "#信仰证据 #顺服 #圣经解读",
    "answerContent": "<p>信徒生命中的证据是遵行上帝在圣经中设立的律法（约翰一书2:3）。违背神诫命的人，就是假信徒。</p><p>方言等现象违反启示录22:18关于不可加添圣经的话语之命令，属传讲别的福音。</p><p>真正的信徒顺从圣经，而不是依靠显现神迹来证明自己。</p>"
},
{
    "id": 5,
    "displayId": "#005",
    "title": "基督与麦基洗德祭司体系",
    "summary": "讲解耶稣在创世之初与十字架上两次被杀，以及他照着麦基洗德等次作大祭司的属灵意义。",
    "category": "#基督论 #麦基洗德 #祭司职分",
    "answerContent": "<p>基督在创立世界时已为选民被杀（启示录13:8），且同时履行大祭司职分，奉献自己作祭。</p><p>希伯来书7章指出，麦基洗德无父无母，无始无终，预表基督的大祭司身份（希伯来书7:1-4,15-17）。</p><p>基督既是被杀的羔羊，也是献祭的大祭司，且按麦基洗德的等次永远为祭司。</p>"
},
{
    "id": 6,
    "displayId": "#006",
    "title": "属世“细心读者”的盲目",
    "summary": "回应一位自诩研究宗教多年的评论者，指出罪人在阅读圣经时心灵昏迷，不能明白救恩之道。",
    "category": "#属灵盲目 #圣经真理",
    "answerContent": "<p>所谓“细心读者”，对圣经的真理并不能真正领悟（马太福音13:15）。</p><p>因人的心灵刚硬，耳聋眼瞎，若非蒙神恩典开启，就不能看见、听见、明白并悔改得救。</p>"
},

{
    "id": 7,
    "displayId": "#007",
    "title": "十字架与复活并非源自神话",
    "summary": "回应关于基督教抄袭埃及神话的说法，强调圣经的启示来源于神，不是人类虚构。",
    "category": "#基督教独特性 #反驳异端",
    "answerContent": "<p>认为基督受难与复活源自埃及神话是虚妄之见（约翰福音8:43-45）。</p><p>神在出埃及时已显明埃及众神的无能（出埃及记）。</p><p>属世心态沉迷于虚构神话，拒绝神的真理启示。</p>"
},
{
    "id": 8,
    "displayId": "#008",
    "title": "世人轻视审判日暴露灵性败坏",
    "summary": "回应讥讽2011年5月21日审判日的评论，指出人类沉溺虚妄娱乐，抗拒圣经真理。",
    "category": "#末世审判 #属灵败坏",
    "answerContent": "<p>嘲笑审判日，反映出世人甘愿耗费生命在虚假的娱乐上，却无心寻求圣经真理（约翰福音8:44-45）。</p><p>人们爱慕虚谎，不爱真理，因此陷在撒但谎言的权势之下。</p>"
},
{
    "id": 9,
    "displayId": "#009",
    "title": "方言现象是对求神迹心理的警告",
    "summary": "评论指出，方言现象反映出人们对神迹奇事的过度关注，而主耶稣更喜悦那些未曾看见就信的人。",
    "category": "#方言 #信仰 #神迹",
    "answerContent": "<p>方言现象体现了基督对人们求神迹心理的不悦。正如多马要求凭眼见信主时，耶稣指出更有福的是那未曾看见就信的人（约翰福音20:29）。</p><p>信心基于神话语的应许，而非凭肉眼可见的神迹。</p>"
},
{
    "id": 11,
    "displayId": "#011",
    "title": "圣经中无名的人往往指向耶稣基督",
    "summary": "深入讲解圣经中几处经文中出现的无名之人，如何属灵预表耶稣基督，并联系到救赎与末世教会的情景。",
    "category": "#耶稣 #圣经预表 #属灵解读",
    "answerContent": "<p>在圣经中，有几处提到无名之人，实际上指向耶稣基督：</p><p><b>耶利米书5:1</b>：神命令人遍行耶路撒冷寻求“一个人”，若找到执行审判、寻求真理者，便赦免城中罪恶。实际上，唯有耶稣基督能为耶路撒冷带来赦免。基督的灵曾与旧约以色列及新约教会同在（启示录2:1），但在审判临到时，神的灵离开了全世界的教会（彼得前书4:17）。</p><p><b>诗篇87:5-6</b>：提到“这人和那人生在锡安”，耶和华要亲自坚立。这里预表耶稣的降生及选民名字被记在羔羊生命册上（启示录13:8），象征属灵的出生与救赎。</p><p><b>以赛亚书4:1</b>：末世有七个女人（预表启示录中七个教会）抓住“一个男人”，说要吃自己的饼、穿自己的衣服，只求称呼其名。象征教会虽持守自己的教义和义（即工作之福音），却仍希望以基督徒的名义自称。</p><p><b>雅各书2:18</b>：提到“一个人”说自己有行为，实际上只有耶稣配这样说。因在称义的问题上，神不接受任何有罪之人的行为（加拉太书2:16），唯有神人耶稣基督的信心之工是可被接纳的。</p><p>总结来说，这些无名之人反复指向基督本人，彰显祂在救赎历史中的中心地位。</p>"
},
{
    "id": 12,
    "displayId": "#012",
    "title": "圣经中的公共祷告实践",
    "summary": "尽管公共祷告有滥用的可能，但通过《使徒行传》的多处经文可知，圣经明确许可公共祷告。",
    "category": "#祷告 #教会生活 #圣经实践",
    "answerContent": "<p>虽然公共祷告有被滥用的风险（如主耶稣在《马太福音》6:5中所警告），但圣经清楚地表明公共祷告是被允许且正常的属灵实践：</p><ul><li><b>使徒行传1:24</b>：“他们祷告说：主啊，你知道万人的心，求你指明这两人中那一个是你所拣选的。”</li><li><b>使徒行传4:31</b>：“他们祷告完了，聚会的地方震动，他们就都被圣灵充满，放胆讲论神的道。”</li><li><b>使徒行传6:6</b>：“使徒为他们祷告后，按手在他们头上。”</li><li><b>使徒行传8:14-15</b>：“使徒们听见撒马利亚人领受了神的道，就打发彼得、约翰去。他们到了那里，为他们祷告，要叫他们受圣灵。”</li><li><b>使徒行传12:12</b>：“许多人聚集一处祷告。”</li><li><b>使徒行传16:25</b>：“半夜保罗和西拉祷告，唱诗赞美神，囚犯也侧耳而听。”</li><li><b>使徒行传20:36</b>：“保罗说完这话，就跪下同众人祷告。”</li></ul><p>从上述经文可以看出，教会集体祷告是初代教会常见且蒙神悦纳的属灵操练。</p>"
},
{
    "id": 13,
    "displayId": "#013",
    "title": "羔羊从创世以来被杀的真理",
    "summary": "回应关于启示录13:8中“羔羊被杀”与“创世以来”语法关系的质疑，坚守圣经整体和谐一致的真理。",
    "category": "#救赎计划 #启示录 #圣经解读",
    "answerContent": "<p>启示录13:8明确教导：“在创世以来被杀的羔羊。” 文法上，“从创世以来”直接修饰“羔羊被杀”，而非仅修饰名字的记录。</p><p>基督在世界被造之前，已为选民代赎（彼得前书1:20），这符合圣经整体一致的启示。</p><p>试图将“创世以来”与“羔羊被杀”分开，是出于不愿接受真福音的倾向。唯有神能开启人心，使人认识到耶稣基督早在创世之初就已为罪人舍命（启示录13:8；希伯来书9:26）。</p><p>真正的圣经解释是所有相关经文能彼此和谐，人的传统理解若不能与圣经整体协调，即可被视为错误。</p>"
},
{
    "id": 14,
    "displayId": "#014",
    "title": "主日的到来带来属灵的安息与祝福",
    "summary": "分享个人经历，见证守主日（星期天）如何成为从世界忧虑中得释放的重要途径，且与圣经教导一致。",
    "category": "#主日安息 #属灵生命 #信仰实践",
    "answerContent": "<p>许多人误以为主日守安息是枷锁，实际上，主日的到来为信徒带来极大的属灵益处。</p><p>神设立主日作为圣洁之日，分别出来专心属灵活动：祷告、读经、传福音。遵守主日帮助信徒从世界的忧虑、焦虑、绝望中暂时得释放，重新以神为中心。</p><p>正如以赛亚书58:13-14所应许：“你若在安息日掉转你的脚步...就必以耶和华为乐。” 主日成为力量之源，使人在地上经历属天的喜乐和平安。</p><p>回顾属灵生命中的历程，主日常常中断连日的痛苦与焦虑，使信徒重新得力面对新的一周。</p>"
},
{
    "id": 15,
    "displayId": "#015",
    "title": "属世的细心读者无法真正明白圣经",
    "summary": "回应一位自诩研究世界宗教的评论者，指出罪人在未得救前无法真正理解圣经真理。",
    "category": "#圣经真理 #属灵盲目 #救恩",
    "answerContent": "<p>所谓“细心的读者”，并不足以理解圣经。因为人的心因罪而刚硬，耳朵发沉，眼睛闭塞，无法真正看见、听见、明白属灵的真理。</p><p>正如马太福音13:15所言：“因为这百姓油蒙了心，耳朵发沉，眼睛闭着，恐怕眼睛看见，耳朵听见，心里明白，回转过来，我就医治他们。”</p><p>真正明白圣经的是那些蒙神拯救、心眼被打开的人。属世的智慧无法引人得救，唯有神亲自启示。</p>"
},

    {
        "id": 16,
        "displayId": "#016",
        "title": "妇女有多种方式为信仰作答（辩护），不仅是单一方式",
        "summary": "说明妇女虽不可在教会中教导男人，却可通过多种方式履行先知职分、传福音、为信仰辩护。",
        "category": "#妇女 #见证 #圣经教导",
        "answerContent": "<p>一位妇女可以通过多种方式履行她作为“先知”的角色。</p><p>她可以在养育儿女时向他们传讲预言。或通过查经向其他妇女和儿童传讲预言。或通过分发单张向所有人传讲预言。</p><p>一位妇女也可以通过为福音事业奉献她的“两枚小钱”（路加福音21:2），以及为神的福音祝福祷告，向他人为她心中的盼望作答。</p><p>有时候，似乎因为专注于被认为更重要的事情（教导男人），上述这些妇女履行“先知”角色的方式被随意否认，仿佛它们无足轻重。它们一点也不无足轻重。主以奇妙的方式称赞了那位奉献两枚小钱的妇女。我们中有谁能恰当地衡量敬虔妇女为她们的丈夫、儿女以及福音的推进祷告的巨大属灵价值。</p><p>当谈到我们这个时代最常用且有效的个人传福音方式（传讲预言）时，主大大使用了妇女，她们投入时间、财务资源和巨大努力，通过分发单张与数百万人分享神的话语。通常，妇女构成了单张团队的大部分。并且常常以她们专注的努力和勤奋的单张工作使男人感到羞愧。这难道不是为圣经福音的大胆辩护（答覆）吗？</p><p>一位妇女也可以通过指向圣经，为她心中的盼望作答/辩护（当被问及时）。她喜乐地对男人和女人说，那本圣书祝福了我。通过她的生活（用古英语说是她的“行为”），她为她心中的盼望向男人和女人提供了答覆（辩护）。</p><p>是的，一位男人问她，但你为什么不去教会？</p><p>她回答，因为神已开启我的眼，让我明白我们已来到教会时代终结的时候。我要向你见证，路加福音21:20,21真正开启了我的眼看到这真理。但这是一个大题目。如果你想了解更多，我可以指引你到一个忠实的网站 eBiblefellowship.org。或一本极好的书（Camping先生的《教会时代的终结...》）？</p><p>在上述例子中，答覆已在不解释圣经的情况下给出。她提到路加福音21:20,21是个人见证。但为什么妇女不应该阐释神的话语呢？圣经在彼得前书3:15中不是说，所有神的子民若被问及心中盼望的缘由，都应当作答吗？</p><p>一个人给出的答覆也必须符合我们其他的圣经指引。在妇女的情况下，神说祂不容许妇女教导或辖制男人。因此，上述例子中妇女的回应确实作出了答覆，同时遵守了提摩太前书2:12的劝诫。</p><p>彼得前书3:1 同样，你们作妻子的，要顺服自己的丈夫；这样，若有不信从神的话的丈夫，他们虽不听道，也可以因妻子的行为，无需言语被感化过来；</p><p>彼得前书3:2 因为他们看见你们贞洁的行为和敬畏的心。</p><p>无需言语——这位妇女通过她的行为（品行）向她的丈夫传讲了预言。</p><p>彼得前书3:16 存着无亏的良心，使那些毁谤你们在基督里好行为的，羞愧于他们对你们无理的诽谤。</p><p>在基督里的好行为就是有好的见证。</p>"
    },
    {
        "id": 17,
        "displayId": "#017",
        "title": "人不是圣经的审判者，圣经是人的审判者",
        "summary": "回应质疑，指出人的无神论与虚假宗教皆为谎言，唯有圣经是真理的判别者。",
        "category": "#圣经权威 #无神论 #真理",
        "answerContent": "<p>针对“我不同意”的评论，没关系。我对这个败坏世界中传播的几乎所有东西都持不同意见。我对每一种宗教（包括今日100%的背道教会）以及所有世俗主义的事物都持怀疑态度。</p><p>你知道你的无神论只是所有虚假宗教中发现的同一谎言主题的变种。</p>"
    },
    {
        "id": 18,
        "displayId": "#018",
        "title": "假冒为善者的真相",
        "summary": "回应‘伪君子’的指责，指出真正假冒为善的是内心诡诈、假装良善的恶人。",
        "category": "#假冒为善 #人心 #圣经真理",
        "answerContent": "<p>针对“恶心。滚出我的动态，你们这些伪君子！”的评论，伪君子是一个表面是一回事，实际是另一回事的人。极其邪恶的人假装是良善的道德之人，绝对够得上十足的假冒为善：</p><p>耶利米书17:9 人心比万物都诡诈，坏到极处，谁能识透呢？</p><p>顺便说一句，你现在在我的动态上了。</p>"
    },
    {
        "id": 19,
        "displayId": "#019",
        "title": "无形的神非世人之友",
        "summary": "回应轻慢的‘无形朋友’评论，指出神是属灵的存在，世人若否认祂即为祂的仇敌。",
        "category": "#神的属性 #属灵真理 #悖逆",
        "answerContent": "<p>针对“我的无形朋友比你的好”的评论，不幸的是，你没有无形的朋友。因为神是属灵的。属灵的事物对我们这些存在于物质领域的人来说是无形的——如果你否认祂/圣经，无形的神肯定不是你的朋友：</p><p>雅各书4:4 你们这些淫乱的人哪，岂不知与世俗为友就是与神为敌吗？所以凡立志与世俗为友的，就是与神为敌。</p>"
    },
    {
        "id": 20,
        "displayId": "#020",
        "title": "末世之人被神交付罪中",
        "summary": "回应对加尔文主义全然败坏教义的质疑，指出末世之人被神交付于罪，印证圣经预言。",
        "category": "#全然败坏 #末世 #神的主权",
        "answerContent": "<p>针对‘末世学人’的评论，罗马书3:10-18是加尔文主义全然败坏的圣杯，未问是否每人都犯了清单中的所有罪。若他们再多读一些，就会看到雅各书2:10，以及罗马书3:20及以后的经文和其他地方，他们就不会被罗马书3:10-18的僵化观点所束缚。</p><p>罗马书3:10-18表明所有人都犯了罪。</p><p>罗马书1显示神在末世将人交付于罪的审判：</p><p>罗马书1:26 因此，神任凭他们放纵可耻的情欲：他们的女人把自然的功用变为违背自然的；</p><p>罗马书1:27 男人也是如此，弃了女人自然的功用，彼此贪恋，男与男行可耻的事，就在自己身上受这错谬当得的报应。</p><p>罗马书1:28 他们既然故意不认识神，神就任凭他们存邪僻的心，行那些不合理的事；</p><p>罗马书1中译为“任凭”或“交付”的希腊词，与耶稣被交付到十字架审判的“交付”同义。</p><p>在末世（我们的时代），神已将世界交付于其罪恶的欲望作为惩罚。</p><p>如果你试图说当前世界的罪恶（现在）不像末世描述的那么严重，你就相当于那些在城市燃烧时报道暴乱，却称之为大多和平抗议的新闻记者。世界在属灵上烈焰熊熊，你却试图安慰人们说我们尚未到那地步。我建议你找另一个领域，末世学人——因为末世学绝对不适合你。</p>"
    },
    {
        "id": 21,
        "displayId": "#021",
        "title": "圣经乃神统一之律法书",
        "summary": "回应质疑诗篇作者对旧约看法的评论，指出圣经为一整体，神的律法完美和谐。",
        "category": "#圣经权威 #神的律法 #真理",
        "answerContent": "<p>针对评论“至多指妥拉，如果诗篇写作时妥拉已存在。若诗篇作者是犹太人（考虑到从雅威主义到正统犹太教发展的时间框架，这不太可能），他甚至不会认为旧约的大部分是神的话语。”</p><p>你不明白圣经，它是一本律法书，由一位立法者作为作者。所有律法完美和谐。若圣经的一部分（如诗篇12宣告神的话纯净并受神保护）作出了声明，它确立了一个对整本圣经都真实的真理。</p>"
    },
    {
        "id": 22,
        "displayId": "#022",
        "title": "圣经未曾增删，神的话纯净",
        "summary": "回应关于圣经删减书籍及摩门教新启示的质疑，强调神保守祂的话语纯净完整。",
        "category": "#圣经完整性 #神的保守 #真理",
        "answerContent": "<p>针对评论“a) 圣经中已移除许多书：这也会招致瘟疫吗？b) 摩门教当然称《摩门经》为‘新启示’。最后，你可能会被父、子与约瑟夫·史密斯审判！😎”</p><p>圣经未曾增删。</p><p>诗篇12:6 耶和华的话是纯净的话，如同银子在泥炉中炼过七次。</p><p>诗篇12:7 耶和华啊，你必保守它们，你必永远保护它们脱离这世代。</p><p>它真正是圣经。</p>"
    },
    {
        "id": 23,
        "displayId": "#023",
        "title": "圣经否认人靠己意得救",
        "summary": "回应将加尔文主义称为异端的评论，强调救恩唯由神的旨意，非人的意志。",
        "category": "#救恩 #神的拣选 #圣经真理",
        "answerContent": "<p>针对评论“加尔文主义。一种异端。”</p><p>我不辩护加尔文主义。我辩护圣经。圣经清楚表明，没有人靠自己的意志得救：</p><p>约翰福音1:13 这等人不是从血气生的，不是从情欲生的，也不是从人意生的，乃是从神生的。</p><p>清楚说了两次。</p>"
    },
    {
        "id": 24,
        "displayId": "#024",
        "title": "救恩非靠善行，乃为善行",
        "summary": "回应对加尔文主义的批评，指出救恩唯由神的恩典，善行乃蒙恩者的果子。",
        "category": "#救恩 #善行 #神的恩典",
        "answerContent": "<p>针对评论“强硬加尔文主义。善行无用。”</p><p>未提及加尔文。我引用圣经，未提及任何神学家。圣经说这话——不是任何人：</p><p>约翰福音15:16 不是你们拣选了我，是我拣选了你们，并且分派你们去结果子。</p><p>约翰福音17:9 我为他们祈求，不为世人祈求，乃为你所赐给我的人祈求。</p><p>关于善行，见以弗所书2:8 你们得救是本乎恩，也因着信，这并不是出于自己，乃是神所赐的；</p><p>以弗所书2:9 也不是出于行为，免得有人自夸。</p><p>以弗所书2:10 我们原是祂的工作，在基督耶稣里造成的，为要叫我们行善，就是神所预备叫我们行的。</p><p>仔细读以弗所书2:8-10。救恩的信心不是人的信心（见加拉太书2:16）。没有人靠自己的行为（如接受基督）得救。然而——靠神的恩典和神的信心得救的人被造（重生）是要行善。事实上，只有神的选民能行善。自由意志教会所行的善行因他们对恩典福音的扭曲而被毁坏。</p>"
    },
    {
        "id": 25,
        "displayId": "#025",
        "title": "驳斥末日日期的错误推算",
        "summary": "驳斥以耶利米书52:31推算末日日期的错误，强调圣经研究需忠于经文，不掺杂个人经历。",
        "category": "#末日 #圣经解读 #时间计算",
        "answerContent": "<p>针对YouTube评论“正如但以理在耶利米书中寻找末日日期，我们也应当如此。最后一日是2037年12月25日，根据耶利米书52:31。从1988年到2037年是49年，然后是第五十禧年。就个人而言，雅各（雅各布）在公元前1965年应为38.5岁。基督在十字架时为38.5岁。我出生于公元1965年。”</p><p>你的注释充满错误。</p><p>首先，耶利米书52:31提到的12月25日是指希伯来年。不是公历的12月25日。例如，当圣经提到正月逾越节时，它对应我们的3月或4月（三月/四月）。</p><p>其次，1994年是最后的禧年。这可以通过追踪旧约禧年历史直到基督公元前7年出生来证明。然后，将下一个禧年推算到新约时代，我们发现公元44年是下一个（公元前7年 + 公元44年 = 51年 - 1年因为没有零年 = 50年）。公元44年之后是公元94年。在每个新约时代的世纪中，以44或94结尾的年份是禧年。在20世纪，是1944年和1994年为禧年。1988年是重要的一年，因为它是地球历史的第13000年。但它不是禧年。</p><p>第三，你引用的经文（耶利米书52:31）并未告诉我们末日的信息。</p><p>耶利米书52:31 到了犹大王约雅斤被掳后三十七年，十二月二十五日，巴比伦王以未米罗达在即位元年，释放了犹大王约雅斤，带他出监。</p><p>数字37确实带有审判的属灵含义。然而，此处的审判是指神对教会的审判（彼得前书4:17）。这是约雅斤王被掳（神的审判）的第三十七年，巴比伦王（撒但的预表）释放他出监，换下他的囚衣，赐他在桌前有座位。这语言表明撒但已被设立为罪人，坐在殿中，表明自己是神（帖撒罗尼迦后书2:3,4）。这段经文揭示了教会完全屈从于撒但，并从魔鬼而非神那里接受属灵滋养（若可以这样说）的可怕真相。极其可怕。但它并未揭示关于末日的任何时间信息。</p><p>第四，雅各和以扫在公元前1967年为40岁。他们生于公元前2007年，所以：2007 - 40 = 1967。在公元前1968年他们39岁。在公元前1969年他们38岁。旧约时代的时间是倒数计的。</p><p>第五，你出生的公元1965年（你的出生年份）对神的末日审判计划毫无意义。还有，这很重要，当我们研究圣经时，绝不要将自己掺杂进解释中。神在祂的时间计划中没有基于我们出生的年份做事。或我们摔断腿的年份。或某位名人去世的年份。等等。我们绝不以任何方式从圣经外寻找当前事件。那是保证出错的方式。真理只在圣经内寻找。</p>"
    },
    {
    "id": 26,
    "displayId": "#026",
    "title": "圣经是律法书，有一位律法颁布者",
    "summary": "回应质疑诗篇作者信仰背景的评论，指出圣经整本书籍有统一的律法源头和真理属性。",
    "category": "#圣经整体性 #神的律法",
    "answerContent": "<p>圣经不是由人按自己信仰演进写下的，而是一本律法书，由唯一的律法颁布者——上帝所启示。</p><p>诗篇12:6-7说：“耶和华的言语是纯净的言语...你必保护他们。”这一原则适用于整本圣经。</p>"
  },
  {
    "id": 27,
    "displayId": "#027",
    "title": "没有加添或删减圣经",
    "summary": "回应有关“圣经被删改”的质疑，强调神亲自保守圣经内容，未被添加或削减。",
    "category": "#圣经保存 #圣经纯净",
    "answerContent": "<p>诗篇12:6-7清楚声明神会保守祂的话语：“耶和华的言语是纯净的...你必保护他们直到永远。”</p><p>所谓“加减”的说法无法动摇神对圣经超自然的保存与保守。</p>"
  },
  {
    "id": 28,
    "displayId": "#028",
    "title": "神保守圣经，也明知人攻击它",
    "summary": "回应关于“圣经历史”的评论，EBF指出虽然人恨恶神的话，但神已完全保守祂的启示。",
    "category": "#圣经历史 #攻击与保守",
    "answerContent": "<p>EBF回应指出，他们深知两件事：1）神有能力保守圣经（诗篇12:6-7）；2）人本性憎恶圣经并攻击它（罗马书3:4）。</p><p>神可信，而人虚谎；圣经的权威与保守不在于人类历史认知，而在于神的主权。</p>"
  },
  {
    "id": 29,
    "displayId": "#029",
    "title": "我不为加尔文主义辩护，我为圣经辩护",
    "summary": "回应批评加尔文主义是异端的评论，EBF指出他们只为圣经立场辩护，不为任何人类体系辩护。",
    "category": "#救恩论 #唯独圣经",
    "answerContent": "<p>约翰福音1:13指出人得救不是“从血气生的，也不是从情欲生的，也不是从人意生的，乃是从神生的”。</p><p>EBF强调：他们不为加尔文辩护，只坚持圣经真理——救恩完全出于神。</p>"
  },
  {
    "id": 30,
    "displayId": "#030",
    "title": "好行为不能带来救恩",
    "summary": "回应认为“好行为仍重要”的评论，EBF重申得救完全是神的恩典，并指出行为是得救后的果子而非凭据。",
    "category": "#因信称义 #好行为的角色",
    "answerContent": "<p>以弗所书2:8-10清楚指出：“你们得救是本乎恩...不是出于行为，免得有人自夸。”</p><p>信徒得救后蒙神重生，才有真正的好行为——这些行为是神预备要他们行的（弗2:10），而非救恩条件。</p>"
  }



];


            // --- 分页变量 ---
            // 注意：由于只有一个问题，分页功能将不会显示
            const itemsPerPage = 8; // 每页显示的问题数量
            let currentPage = 1; // 当前页码

            // Fuse.js 配置选项
            const fuseOptions = {
                keys: [
                    'displayId',
                    'title',
                    'summary',
                    'category',
                    'answerContent' // Fuse.js 可以在答案内容中搜索
                ],
                includeScore: true,
                threshold: 0.3, // 容错阈值
                ignoreLocation: true,
                isCaseSensitive: false,
            };

            // 初始化 Fuse - 使用更新后的 allQuestions
            const fuse = new Fuse(allQuestions, fuseOptions);

            // --- 加载问题卡片（带分页逻辑） ---
            function loadQuestionCards(questionsToDisplay, page = 1) {
                questionsGridDiv.innerHTML = ''; // 清空现有卡片

                // 分页逻辑依然存在，但对于单条数据，它只会显示在第一页
                const startIndex = (page - 1) * itemsPerPage;
                const endIndex = startIndex + itemsPerPage;
                const paginatedQuestions = questionsToDisplay.slice(startIndex, endIndex);

                 if (paginatedQuestions.length === 0 && searchInput.value.trim() === '') {
                      questionsGridDiv.innerHTML = '<p style="text-align: center; color: var(--text-light-color);">暂无问题或数据。</p>';
                 } else if (paginatedQuestions.length === 0 && searchInput.value.trim() !== '') {
                     // 搜索结果为空时，这里不做，因为搜索结果列表会显示“未找到”
                 }
                 else {
                     paginatedQuestions.forEach(q => {
                         const cardHtml = `
                             <div class="question-card" data-question-id="${q.id}">
                                 <div class="id">${q.displayId}</div>
                                 <h3>${q.title}</h3>
                                 <p>${q.summary}</p>
                                 <div class="category">${q.category}</div>
                             </div>
                         `;
                         questionsGridDiv.innerHTML += cardHtml;
                     });
                 }
                addCardClickListeners(); // 为新加载的卡片添加点击事件
            }

            // --- 渲染分页控件 ---
            function renderPagination(totalItems, itemsPerPage, currentPage) {
                paginationDiv.innerHTML = ''; // 清空现有分页按钮
                const totalPages = Math.ceil(totalItems / itemsPerPage);

                if (totalPages <= 1) {
                    paginationDiv.style.display = 'none'; // 只有一页或没有内容时不显示分页
                    return;
                }

                paginationDiv.style.display = 'flex'; // 显示分页容器

                // 添加“上一页”按钮
                const prevButton = document.createElement('button');
                prevButton.textContent = '上一页';
                prevButton.disabled = currentPage === 1;
                prevButton.addEventListener('click', () => {
                    if (currentPage > 1) {
                        currentPage--;
                        loadQuestionCards(allQuestions, currentPage); // 加载上一页卡片
                        renderPagination(totalItems, itemsPerPage, currentPage); // 重新渲染分页
                         window.scrollTo({ top: questionsGridDiv.offsetTop - 100, behavior: 'smooth' }); // 滚动到问题列表上方100px
                    }
                });
                paginationDiv.appendChild(prevButton);

                // 添加页码按钮
                let startPage = Math.max(1, currentPage - 2);
                let endPage = Math.min(totalPages, currentPage + 2);

                if (currentPage <= 3) endPage = Math.min(totalPages, 5);
                if (currentPage >= totalPages - 2) startPage = Math.max(1, totalPages - 4);


                if (startPage > 1) {
                    const firstPageButton = document.createElement('button');
                    firstPageButton.textContent = '1';
                     firstPageButton.addEventListener('click', () => {
                         currentPage = 1;
                         loadQuestionCards(allQuestions, currentPage);
                         renderPagination(totalItems, itemsPerPage, currentPage);
                          window.scrollTo({ top: questionsGridDiv.offsetTop - 100, behavior: 'smooth' });
                     });
                    paginationDiv.appendChild(firstPageButton);
                    if (startPage > 2) {
                          const span = document.createElement('span');
                          span.textContent = '...';
                          span.style.margin = '0 5px';
                          span.style.color = "var(--text-light-color)";
                          paginationDiv.appendChild(span);
                     }
                 }


                 for (let i = startPage; i <= endPage; i++) {
                     const pageButton = document.createElement('button');
                     pageButton.textContent = i;
                     if (i === currentPage) {
                         pageButton.classList.add('active');
                     } else {
                         pageButton.addEventListener('click', () => {
                             currentPage = i;
                             loadQuestionCards(allQuestions, currentPage);
                             renderPagination(totalItems, itemsPerPage, currentPage);
                              window.scrollTo({ top: questionsGridDiv.offsetTop - 100, behavior: 'smooth' });
                         });
                     }
                     paginationDiv.appendChild(pageButton);
                 }

                  if (endPage < totalPages) {
                      if (endPage < totalPages - 1) {
                           const span = document.createElement('span');
                           span.textContent = '...';
                           span.style.margin = '0 5px';
                           span.style.color = "var(--text-light-color)";
                           paginationDiv.appendChild(span);
                      }
                      if (totalPages > endPage) {
                          const lastPageButton = document.createElement('button');
                          lastPageButton.textContent = totalPages;
                           lastPageButton.addEventListener('click', () => {
                               currentPage = totalPages;
                               loadQuestionCards(allQuestions, currentPage);
                               renderPagination(totalItems, itemsPerPage, currentPage);
                                window.scrollTo({ top: questionsGridDiv.offsetTop - 100, behavior: 'smooth' });
                           });
                          paginationDiv.appendChild(lastPageButton);
                      }
                  }


                 // 添加“下一页”按钮
                 const nextButton = document.createElement('button');
                 nextButton.textContent = '下一页';
                 nextButton.disabled = currentPage === totalPages;
                 nextButton.addEventListener('click', () => {
                     if (currentPage < totalPages) {
                         currentPage++;
                         loadQuestionCards(allQuestions, currentPage); // 加载下一页卡片
                         renderPagination(totalItems, itemsPerPage, currentPage); // 重新渲染分页
                          window.scrollTo({ top: questionsGridDiv.offsetTop - 100, behavior: 'smooth' });
                     }
                 });
                 paginationDiv.appendChild(nextButton);

            }


             // --- 添加卡片点击事件监听器 ---
             function addCardClickListeners() {
                  const currentCards = questionsGridDiv.querySelectorAll('.question-card');
                  currentCards.forEach(card => {
                      card.removeEventListener('click', handleCardClick);
                      card.addEventListener('click', handleCardClick);
                  });
             }

             // 单独处理卡片点击事件的函数
             function handleCardClick() {
                 const questionId = this.getAttribute('data-question-id');
                 const question = allQuestions.find(q => q.id === parseInt(questionId));

                 if (question && question.answerContent) {
                     modalQuestionTitle.textContent = question.title;
                     modalAnswerContent.innerHTML = question.answerContent;

                     // --- 优化显示逻辑 ---
                     modal.style.display = 'flex'; // 先设置为 flex，让元素进入布局流
                      requestAnimationFrame(() => { // 使用 rAF 确保 display 设置已经生效，再添加类触发过渡 (可选，但更稳健)
                         modal.classList.add('show'); // 添加 show class 来触发过渡
                         mainBackButton.classList.add('visible'); // 模态窗口打开时显示主界面返回按钮
                      });

                 } else {
                     console.warn("该问题没有详细回答内容:", questionId);
                     alert("该问题暂无详细回答内容。");
                 }
             }


            // --- 搜索逻辑 ---
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.trim();

                if (searchTerm.length > 0) {
                    // Use Fuse.js to search
                    const results = fuse.search(searchTerm);
                    const matchedQuestions = results.map(result => result.item); // Extract original question objects

                    // Clear search results dropdown
                    searchResultsUl.innerHTML = '';
                    questionsGridDiv.classList.add('hidden-by-search'); // Hide card grid (CSS fade out)
                    paginationDiv.style.display = 'none'; // Hide pagination

                    if (results.length > 0) {
                        searchResultsUl.classList.add('visible'); // Show dropdown (CSS fade in/slide up)

                        matchedQuestions.forEach(item => { // Iterate over matched question objects
                            // Simple result HTML
                            const resultItemHtml = `
                                <li class="search-result-item" data-question-id="${item.id}">
                                    <span class="result-id">${item.displayId}</span>
                                    <span class="result-title">${item.title}</span>
                                </li>
                            `;
                            searchResultsUl.innerHTML += resultItemHtml;
                        });

                        // Add click event listeners to search result items
                        searchResultsUl.querySelectorAll('.search-result-item').forEach(item => {
                            item.removeEventListener('click', handleSearchResultClick);
                            item.addEventListener('click', handleSearchResultClick);
                        });

                    } else {
                        // No results found
                        searchResultsUl.classList.add('visible');
                        searchResultsUl.innerHTML = '<li class="search-result-item" style="text-align:center; cursor:default; color: var(--text-light-color);">未找到相关问题</li>';
                    }

                } else {
                    // Search box is empty, hide results dropdown, show all question cards and pagination
                    searchResultsUl.classList.remove('visible'); // Hide dropdown (CSS fade out/slide down)
                    searchResultsUl.innerHTML = ''; // Clear results list
                    questionsGridDiv.classList.remove('hidden-by-search'); // Show card grid (CSS fade in)
                    paginationDiv.style.display = 'flex'; // Show pagination container (use flex以便居中)

                    // When search is cleared, reset to the first page and reload all question cards and pagination
                    currentPage = 1;
                    loadQuestionCards(allQuestions, currentPage);
                    renderPagination(allQuestions.length, itemsPerPage, currentPage);
                }
            });

             // Single function to handle search result item clicks
             function handleSearchResultClick() {
                 const questionId = this.getAttribute('data-question-id');
                 const question = allQuestions.find(q => q.id === parseInt(questionId));
                 if (question && question.answerContent) {
                     modalQuestionTitle.textContent = question.title;
                     modalAnswerContent.innerHTML = question.answerContent;

                     // --- Optimize display logic ---
                     modal.style.display = 'flex'; // First set display to flex
                     requestAnimationFrame(() => { // Use rAF for smoother transition trigger
                        modal.classList.add('show'); // Then add the show class
                        mainBackButton.classList.add('visible'); // 模态窗口打开时显示主界面返回按钮
                     });

                 } else {
                      console.warn("该问题没有详细回答内容:", questionId);
                      alert("该问题暂无详细回答内容。");
                 }

                 // Hide search results dropdown and clear search input
                 searchResultsUl.classList.remove('visible');
                 searchInput.value = ''; // Clear input (this will trigger input event, thereby resetting grid/pagination)
             }

             // --- 统一的隐藏模态窗口函数 ---
             function hideModal() {
                 modal.classList.remove('show'); // 移除 show class 触发 CSS 隐藏过渡
                 mainBackButton.classList.remove('visible'); // 隐藏主界面返回按钮
                 // CSS 的 visibility 延迟过渡会处理 modal display: none 的时机
             }


            // --- Modal close logic ---
            closeButton.addEventListener('click', hideModal); // 使用统一的隐藏函数

             // --- 主界面返回按钮逻辑 ---
            mainBackButton.addEventListener('click', hideModal); // 使用统一的隐藏函数

            // Click outside modal/search results to close
            window.addEventListener('click', function(event) {
                // Clicked outside modal content (on backdrop)
                if (event.target === modal) {
                    hideModal(); // 使用统一的隐藏函数
                }
                // 同时隐藏搜索结果下拉框，除非点击的是搜索框或结果列表本身
                if (!searchInput.contains(event.target) && !searchResultsUl.contains(event.target) && searchResultsUl.classList.contains('visible')) {
                     searchResultsUl.classList.remove('visible');
                }
            });

            // 页面加载完成后，初始化显示第一页问题卡片和分页
            loadQuestionCards(allQuestions, currentPage);
            renderPagination(allQuestions.length, itemsPerPage, currentPage);

        });
    </script>

</body>
</html>